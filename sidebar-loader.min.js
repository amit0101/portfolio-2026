const SIDEBAR_CONTENT='\n    <div class="sidebar-header">\n        <h2 class="sidebar-name">Amit Kumar</h2>\n        <p class="sidebar-title">Full-Stack AI Engineer</p>\n    </div>\n\n    <nav class="sidebar-nav">\n        <a href="index.html#home" class="nav-item" data-page="index.html" data-section="home">\n            <i data-lucide="home" class="nav-icon"></i>\n            <span class="nav-text">Home</span>\n        </a>\n\n        <div class="nav-section">\n            <a href="index.html#projects" class="nav-section-title" data-page="index.html" data-section="projects"\n                style="text-decoration: none;">\n                <i data-lucide="briefcase" class="nav-icon"></i>\n                <span class="nav-text">Projects</span>\n            </a>\n            <div class="nav-subitems">\n                <a href="project-operations.html" class="nav-subitem" data-page="project-operations.html">\n                    <i data-lucide="truck" class="nav-icon"></i>\n                    <span>Operations SaaS</span>\n                </a>\n                <a href="project-marketing.html" class="nav-subitem" data-page="project-marketing.html">\n                    <i data-lucide="brain" class="nav-icon"></i>\n                    <span>AI Marketing SaaS</span>\n                </a>\n                <a href="project-geo.html" class="nav-subitem" data-page="project-geo.html">\n                    <i data-lucide="search" class="nav-icon"></i>\n                    <span>GEO Platform</span>\n                </a>\n                <a href="project-audio.html" class="nav-subitem" data-page="project-audio.html">\n                    <i data-lucide="audio-lines" class="nav-icon"></i>\n                    <span>Audio Generation</span>\n                </a>\n                <a href="project-blood.html" class="nav-subitem" data-page="project-blood.html">\n                    <i data-lucide="file-heart" class="nav-icon"></i>\n                    <span>Medical Extraction</span>\n                </a>\n            </div>\n        </div>\n\n        <a href="resume.html" target="_blank" class="nav-item" data-page="resume.html">\n            <i data-lucide="file-text" class="nav-icon"></i>\n            <span class="nav-text">Resume</span>\n        </a>\n\n        <a href="mailto:amit.kr.py@gmail.com" class="nav-item">\n            <i data-lucide="mail" class="nav-icon"></i>\n            <span class="nav-text">Contact</span>\n        </a>\n    </nav>\n\n    \x3c!-- Video Walkthrough Mini Screen (only on index page) --\x3e\n    <div class="video-preview-container" id="videoPreviewContainer">\n        <div class="video-preview-screen" id="videoPreviewTrigger">\n            <div class="screen-glare"></div>\n            <div class="preview-content">\n                <div class="preview-play-icon">\n                    <svg viewBox="0 0 24 24" fill="currentColor">\n                        <polygon points="5,3 19,12 5,21"></polygon>\n                    </svg>\n                </div>\n                <span class="preview-label">Projects Walkthrough</span>\n            </div>\n            <div class="screen-reflection"></div>\n        </div>\n    </div>\n\n    <div class="sidebar-footer">\n        <a href="https://linkedin.com/in/amitkrpy" target="_blank" rel="noopener noreferrer" class="social-link"\n            title="LinkedIn">\n            <i data-lucide="linkedin"></i>\n        </a>\n        <a href="https://github.com/amit0101" target="_blank" rel="noopener noreferrer" class="social-link"\n            title="GitHub">\n            <i data-lucide="github"></i>\n        </a>\n    </div>\n',HINGE_HTML='<div class="hinge-connectors"></div>',FLUBBER_HTML='\n<div class="flubber-container" id="flubber-chat-trigger">\n    <div class="flubber-pulse-ring"></div>\n    <canvas id="flubber-canvas"></canvas>\n    <span class="flubber-tooltip">\n        <i data-lucide="sparkles"></i>\n        <span>Hi! How can I help?</span>\n    </span>\n</div>\n';async function loadSidebar(){try{const e=document.getElementById("sidebar-placeholder");if(e)e.innerHTML=SIDEBAR_CONTENT,e.classList.add("loaded");else{const e=document.createElement("div");e.innerHTML=`<aside class="sidebar">${SIDEBAR_CONTENT}</aside>`,document.body.insertAdjacentElement("afterbegin",e.firstElementChild)}document.querySelector(".hinge-connectors")||document.body.insertAdjacentHTML("beforeend",HINGE_HTML),setActiveNavForCurrentPage(),window.lucide&&lucide.createIcons(),await loadRequiredScripts()}catch(e){console.error("Error loading sidebar:",e)}}function loadRequiredScripts(){return new Promise(e=>{[].forEach(e=>{if(!document.querySelector(`link[href="${e}"]`)){const n=document.createElement("link");n.rel="stylesheet",n.href=e,document.head.appendChild(n)}});const n=["video-modal.min.js","contact-modal.min.js"];let a=0;n.forEach(t=>{if(document.querySelector(`script[src="${t}"]`))return a++,void(a===n.length&&e());const i=document.createElement("script");i.src=t,i.onload=()=>{a++,a===n.length&&e()},i.onerror=()=>{console.error(`Failed to load script: ${t}`),a++,a===n.length&&e()},document.body.appendChild(i)})})}function getCurrentPage(){return window.location.pathname.split("/").pop()||"index.html"}function setActiveNavForCurrentPage(){const e=getCurrentPage();if(document.querySelectorAll(".nav-item, .nav-subitem, .nav-section-title").forEach(e=>{e.classList.remove("active")}),"index.html"===e||""===e){const e=document.querySelector('.nav-item[data-page="index.html"]');e&&e.classList.add("active")}else if(e.startsWith("project-")){const n=document.querySelector('.nav-section-title[data-page="index.html"]');n&&n.classList.add("active");const a=document.querySelector(`.nav-subitem[data-page="${e}"]`);a&&a.classList.add("active")}else if("resume.html"===e){const e=document.querySelector('.nav-item[data-page="resume.html"]');e&&e.classList.add("active")}}function setupFlubberContextListener(){let e=0;document.addEventListener("flubber-context-change",n=>{const a=Date.now();if(window.flubber&&window.flubberContext&&a-e>5e3){const n=window.flubberContext.getContextualHint();window.flubber.updateTooltip(n),e=a}}),setTimeout(()=>{if(window.flubber&&window.flubberContext){const e=window.flubberContext.getContextualHint();window.flubber.updateTooltip(e)}},1e3)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",loadSidebar):loadSidebar(),setTimeout(setupFlubberContextListener,500);