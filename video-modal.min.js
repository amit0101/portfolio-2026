function createVideoModal(){document.body.insertAdjacentHTML("beforeend",'\n        \x3c!-- Video Modal Overlay --\x3e\n        <div class="video-modal-overlay" id="videoModal">\n            <div class="video-modal-container">\n                <div class="video-player-wrapper">\n                    <video id="videoPlayer" preload="metadata" controlsList="nodownload">\n                        <source src="projects-showcase.mov" type="video/mp4">\n                        Your browser does not support the video tag.\n                    </video>\n                    \n                    \x3c!-- Animated Border Progress Indicator --\x3e\n                    <div class="video-progress-border">\n                        <div class="progress-top" id="progressTop"></div>\n                        <div class="progress-right" id="progressRight"></div>\n                        <div class="progress-bottom" id="progressBottom"></div>\n                        <div class="progress-left" id="progressLeft"></div>\n                    </div>\n                    \n                    \x3c!-- Top-Left Controls - Only on Hover --\x3e\n                    <div class="video-controls-overlay" id="videoControlsOverlay">\n                        <button class="video-play-pause" id="playPauseBtn" aria-label="Play/Pause">\n                            <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor">\n                                <polygon points="5,3 19,12 5,21"></polygon>\n                            </svg>\n                            <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display:none;">\n                                <rect x="6" y="4" width="4" height="16"></rect>\n                                <rect x="14" y="4" width="4" height="16"></rect>\n                            </svg>\n                        </button>\n                        <button class="video-rewind" id="rewindBtn" aria-label="Restart" style="display:none;">\n                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                                <polyline points="1 4 1 10 7 10"></polyline>\n                                <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>\n                            </svg>\n                        </button>\n                    </div>\n                    \n                    \x3c!-- Close Button --\x3e\n                    <button class="video-close-btn" id="videoCloseBtn" aria-label="Close">\n                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                            <line x1="18" y1="6" x2="6" y2="18"></line>\n                            <line x1="6" y1="6" x2="18" y2="18"></line>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n        </div>\n    ')}function initVideoModal(){document.getElementById("videoModal")||createVideoModal();const e=document.getElementById("videoPreviewTrigger"),t=document.getElementById("videoModal"),d=document.getElementById("videoPlayer"),s=document.getElementById("videoCloseBtn"),i=document.getElementById("playPauseBtn"),n=document.getElementById("rewindBtn"),a=document.getElementById("progressTop"),o=document.getElementById("progressRight"),l=document.getElementById("progressBottom"),c=document.getElementById("progressLeft"),r=document.querySelector(".video-progress-border"),v=document.querySelector(".video-player-wrapper");if(!t||!d)return void console.error("Video modal elements not found");let y=!1,p=0,m=0;function u(){t.classList.remove("active"),document.body.style.overflow="",d.pause(),h(!1),y&&e&&function(){const e=document.createElement("canvas");e.width=d.videoWidth,e.height=d.videoHeight;e.getContext("2d").drawImage(d,0,0,e.width,e.height);const t=e.toDataURL("image/jpeg",.8),s=document.querySelector(".video-preview-screen"),i=document.querySelector(".preview-play-icon"),n=document.querySelector(".preview-label");s&&(s.style.backgroundImage=`url(${t})`,s.style.backgroundSize="cover",s.style.backgroundPosition="center",i&&(i.style.width="32px",i.style.height="32px",i.style.background="rgba(0, 0, 0, 0.5)"),n&&(n.style.display="none"))}(),n&&(n.style.display="none")}function g(){d.paused?(d.play(),h(!0),v&&v.classList.remove("paused")):(d.pause(),h(!1),v&&v.classList.add("paused"))}function h(e){const t=document.querySelectorAll(".video-modal-overlay .play-icon"),d=document.querySelectorAll(".video-modal-overlay .pause-icon");t.forEach(t=>t.style.display=e?"none":"block"),d.forEach(t=>t.style.display=e?"block":"none")}d.addEventListener("loadedmetadata",()=>{p=d.videoWidth,m=d.videoHeight}),e&&e.addEventListener("click",()=>{t.classList.add("active"),document.body.style.overflow="hidden",v&&v.classList.add("paused"),p&&m||d.load(),a&&!a.classList.contains("animated")&&requestAnimationFrame(()=>{a.classList.add("animated"),o.classList.add("animated"),l.classList.add("animated"),c.classList.add("animated"),a.style.width="calc(0% - 2px)",o.style.height="calc(0% - 2px)",l.style.width="calc(0% - 2px)",c.style.height="calc(0% - 2px)"})}),s&&s.addEventListener("click",u),t.addEventListener("click",e=>{e.target===t&&u()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&u()}),i&&i.addEventListener("click",g),d.addEventListener("click",g),d.addEventListener("play",()=>{if(!y)if(y=!0,n&&(n.style.display="flex"),p&&m&&r)r.classList.add("active");else if(r){const e=setInterval(()=>{p&&m&&(clearInterval(e),r.classList.add("active"),a.classList.contains("animated")||(a.classList.add("animated"),o.classList.add("animated"),l.classList.add("animated"),c.classList.add("animated")))},50)}}),n&&n.addEventListener("click",()=>{a.classList.remove("animated"),o.classList.remove("animated"),l.classList.remove("animated"),c.classList.remove("animated"),a.style.width="calc(0% - 2px)",o.style.height="calc(0% - 2px)",l.style.width="calc(0% - 2px)",c.style.height="calc(0% - 2px)",d.currentTime=0,d.play(),h(!0),v&&v.classList.remove("paused"),setTimeout(()=>{a.classList.add("animated"),o.classList.add("animated"),l.classList.add("animated"),c.classList.add("animated")},50)}),d.addEventListener("ended",()=>{h(!1),v&&v.classList.add("paused")}),d.addEventListener("contextmenu",e=>{e.preventDefault()}),d.addEventListener("timeupdate",function(){if(!a||!d.duration)return;const e=d.currentTime/d.duration*100,t=p||d.videoWidth||d.clientWidth,s=m||d.videoHeight||d.clientHeight;if(!t||!s)return;const i=2*(t+s),n=s/i*100,r=t/i*100,v=s/i*100,y=t/i*100,u=y+n,g=u+r;if(e<y){const t=e/y*100;a.style.width=`calc(${t}% - 2px)`,o.style.height="calc(0% - 2px)",l.style.width="calc(0% - 2px)",c.style.height="calc(0% - 2px)"}else if(e<u){const t=(e-y)/n*100;a.style.width="calc(100% - 2px)",o.style.height=`calc(${t}% - 2px)`,l.style.width="calc(0% - 2px)",c.style.height="calc(0% - 2px)"}else if(e<g){const t=(e-u)/r*100;a.style.width="calc(100% - 2px)",o.style.height="calc(100% - 2px)",l.style.width=`calc(${t}% - 2px)`,c.style.height="calc(0% - 2px)"}else{const t=(e-g)/v*100;a.style.width="calc(100% - 2px)",o.style.height="calc(100% - 2px)",l.style.width="calc(100% - 2px)",c.style.height=`calc(${t}% - 2px)`}})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initVideoModal):initVideoModal();